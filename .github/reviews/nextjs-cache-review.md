現時点でのNext.jsのキャッシュ戦略をAIへの指示書として以下にまとめます。この指示書は、Next.js v15〜v16における根本的な改善に基づき、過去の複雑なキャッシュ設定や不透明な仕様（Legacy Cache: App Router初期のv13〜v14の課題）に関する情報は全て除外しています。

---

## Next.js 現行キャッシュ戦略 指示書（v15以降のノウハウ）

この指示書は、Next.jsの最新のキャッシュアーキテクチャ（v15〜v16）に基づき、最適かつ透明性の高いデータ管理を目的としています。

### 1. 根本的なキャッシュ機構の採用

*   **"use cache"の活用:**
    *   Next.js v15〜v16における根本的な改善として導入された新しいキャッシュプリミティブである **"use cache"** を利用すること。
    *   この機構は、**RSC（React Server Components）の世界観** に基づいて設計されており、従来の複雑なキャッシュ管理の課題を解消することを目指している。

### 2. データフェッチの明示的な管理

*   **`fetch()`のデフォルトCacheの認識:**
    *   Next.js v14〜v15の改善により、**`fetch()`のデフォルトのCacheは廃止された** ことを認識し、キャッシュの振る舞いを常に明示的に設定すること。
    *   これにより、データフェッチにおけるキャッシュの振る舞いが予想困難になるという旧来の課題が解消されている。
*   **キャッシュ設定の透明性:**
    *   キャッシュ設定の不透明な仕様という旧来の課題は、ドキュメントの改善やアーキテクチャの変更により解消に向かっているため、常に公式ドキュメントに基づいて、必要な場所に適切なキャッシュ設定を明示的に記述すること。

### 3. 鮮度管理の最適化

*   **`staleTimes`オプションの適用:**
    *   データの鮮度（stale data）管理が必要な場合、**`staleTimes`オプション** を利用して再検証の時間を設定すること。
    *   v14〜v15において、このオプションのデフォルト値が変更されているため、意図しないキャッシュの長期保持が発生しないよう、最新のデフォルト値を理解した上で、適切な値を設定すること。

---
**補足:**
現在のキャッシュ戦略は、開発者が明示的にキャッシュを設定し、その振る舞いをコントロールすることを基本としています。これは、かつて「予想困難なデータフェッチ」や「複雑なCache設定」といった課題があった時代（v13〜v14）とは一線を画しています。現在のキャッシュ戦略は、必要な情報を必要な場所で、開発者が意図的に制御するためのツール（"use cache"など）が提供されていると理解してください。
